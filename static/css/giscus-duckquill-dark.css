/* Derived from giscus built-in themes; tuned to match Duckquill dark mode. */
main {
  --font-family-sans: "Inter Variable", "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif;
  --font-family-default: var(--font-family-sans);

  --color-fg-default: #e8ddd1;
  --color-fg-muted: #b7a796;
  --color-fg-subtle: #9a8b7c;
  --color-canvas-default: #201913;
  --color-canvas-overlay: #2a2119;
  --color-canvas-inset: #1a1510;
  --color-canvas-subtle: #2a221b;
  --color-border-default: #4b3d31;
  --color-border-muted: #3a2f26;
  --color-neutral-muted: rgb(213 173 131 / 18%);

  --color-accent-fg: #ffac4d;
  --color-accent-emphasis: #f19533;
  --color-accent-muted: rgb(255 172 77 / 35%);
  --color-accent-subtle: #rgb(255 172 77 / 14%);

  --color-success-fg: #7fc37f;
  --color-attention-fg: #e0b461;
  --color-attention-muted: rgb(224 180 97 / 38%);
  --color-attention-subtle: rgb(224 180 97 / 14%);
  --color-danger-fg: #f67d73;
  --color-danger-muted: rgb(246 125 115 / 38%);
  --color-danger-subtle: rgb(246 125 115 / 14%);

  --color-btn-text: #e9dfd3;
  --color-btn-bg: #352a20;
  --color-btn-border: rgb(245 205 161 / 14%);
  --color-btn-shadow: 0 0 transparent;
  --color-btn-inset-shadow: 0 0 transparent;
  --color-btn-hover-bg: #443527;
  --color-btn-hover-border: #775e43;
  --color-btn-active-bg: #4b3a2a;
  --color-btn-active-border: #8b6a49;
  --color-btn-selected-bg: #3a2d22;

  --color-btn-primary-text: #1f160f;
  --color-btn-primary-bg: #ffac4d;
  --color-btn-primary-border: rgb(245 205 161 / 20%);
  --color-btn-primary-shadow: 0 0 transparent;
  --color-btn-primary-inset-shadow: 0 0 transparent;
  --color-btn-primary-hover-bg: #ffb968;
  --color-btn-primary-hover-border: rgb(245 205 161 / 22%);
  --color-btn-primary-selected-bg: #f1993a;
  --color-btn-primary-selected-shadow: 0 0 transparent;
  --color-btn-primary-disabled-text: rgb(31 22 15 / 58%);
  --color-btn-primary-disabled-bg: rgb(255 172 77 / 50%);
  --color-btn-primary-disabled-border: rgb(245 205 161 / 16%);

  --color-action-list-item-default-hover-bg: rgb(236 200 162 / 14%);
  --color-segmented-control-bg: rgb(236 200 162 / 11%);
  --color-segmented-control-button-bg: #2c2219;
  --color-segmented-control-button-selected-border: #7c654b;
  --color-social-reaction-bg-hover: #3f3023;
  --color-social-reaction-bg-reacted-hover: #5b3f24;

  line-height: 1.55;
  padding-inline: 0.75rem;
}

main .gsc-main {
  gap: 0.75rem;
  padding: 0.25rem 0;
}

main .gsc-header {
  padding: 0.25rem 0;
  border: none;
  background: transparent;
  box-shadow: none;
  align-items: center;
}

main .gsc-left-header {
  gap: 0.5rem;
}

main .gsc-comments-count,
main .gsc-comments-count-separator {
  font-size: 0.95rem;
  font-weight: 600;
  margin-right: 0.5rem;
}

main .BtnGroup {
  padding: 0;
  border: 1px solid var(--color-border-default);
  border-radius: 0.75rem;
  background: var(--color-canvas-subtle);
  display: inline-flex;
  overflow: hidden;
  margin-left: auto;
}

main .BtnGroup-item,
main .BtnGroup-item .btn,
main .gsc-pagination-button,
main .gsc-social-reaction-summary-item,
main .gsc-reactions-button {
  border-radius: 0;
  border: none;
}

main .BtnGroup-item:first-child .btn {
   border-radius: 0.75rem 0 0 0.75rem;
}

main .BtnGroup-item:last-child .btn {
   border-radius: 0 0.75rem 0.75rem 0;
}

main .BtnGroup-item .btn {
  min-width: 3rem;
  padding-inline: 0.6rem;
  font-weight: 500;
  height: 1.8rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
}

main .gsc-comment-box:not(.gsc-comment-box-is-reply) {
  border-radius: 0.75rem;
  overflow: hidden;
  border: 1px solid var(--color-border-default);
  background: var(--color-canvas-default);
  box-shadow: 0 1px 2px rgba(0,0,0,0.02);
  margin-bottom: 0.75rem;
}

main .gsc-comment-box-tabs,
main .gsc-comment-box-textarea-extras {
  background: transparent;
  border-bottom: 1px solid var(--color-border-muted);
}

main .gsc-comment-box-main {
  margin: 0;
}

main .gsc-comment-box-textarea {
  min-height: 100px;
  border: none;
  border-radius: 0;
  padding: 0.6rem;
  background: transparent;
}

main .gsc-comment-box-bottom {
    padding: 0.4rem;
}

main .gsc-comment {
  gap: 0.75rem;
  margin-bottom: 1rem;
}

/* CRITICAL FIX: Target the main comment container div that has the border */
/* Based on provided HTML: <div class="color-bg-primary ... rounded-md border ..."> */
main .gsc-comment > div {
  border-radius: 0.75rem !important; /* Force override rounded-md (6px) */
  background-color: var(--color-canvas-overlay); /* Ensure distinct background */
}

/* Fix header padding */
main .gsc-comment-header {
    background: transparent;
    border-radius: 0.75rem 0.75rem 0 0;
    padding: 0.75rem 1rem 0.25rem 1rem; /* Top Right Bottom Left */
    margin-bottom: 0;
}

/* Fix content padding and margins */
main .gsc-comment-content {
  border: none;
  border-radius: 0;
  background: transparent;
  padding: 0.25rem 1rem 0.75rem 1rem; /* Top Right Bottom Left */
  box-shadow: none;
  margin-top: 0;
}

/* Fix footer padding */
main .gsc-comment-footer {
  padding: 0 1rem 0.75rem 1rem; /* Top Right Bottom Left */
  margin-top: 0;
}

/* Replies styling */
main .gsc-replies {
  margin-top: 0.5rem;
  border-left: 2px solid var(--color-border-muted);
  padding-left: 1rem;
}

main .gsc-reply {
  padding: 0.5rem 0;
}

main .gsc-tl-line {
  left: 1.1rem;
  border-left: 2px solid var(--color-border-muted);
}

/* Avatars in comment header */
main .gsc-comment-author-avatar img {
  border-radius: 0.5rem !important; /* Match rounded-corner-small */
}
